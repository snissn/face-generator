<canvas height=400 width=400 id=c></canvas>
<script>
var c = document.getElementById("c");
var ctx = c.getContext("2d");
var gender = Math.floor(Math.random()* 2);
ctx.lineWidth =4;
ctx.strokeStyle = '#001131';


function getRandom(){
  var array = new Uint32Array(1);
  window.crypto.getRandomValues(array);
  return array[0]/(2**32);
}
function getRandomBackground(){
	let colors = ['#0528F2','#4CB1F7','#FFC700', '#6B1CEB','#E01B32','#01EA05'];
  		return colors[Math.floor(Math.random()* colors.length)]; 
	
}

/*function getRandomColor(){
	random = Math.floor(Math.random()* 3);
	if (random == 0){
		return "white";
	}

	else if (random == 1){
		//return "black";
		return 'white';
	}

	else{
		var letters = '0123456789ABCDEF';
  		var color = '#';
  		for (var i = 0; i < 6; i++) {
    		color += letters[Math.floor(Math.random() * 16)];
  		}
	
  return color;
  //return 'white';

	}
} */

function call(fns,ctx){
  ctx.beginPath();
	const ret = fns[Math.floor(getRandom()*fns.length)](ctx)
  ctx.stroke();
	return ret;
}

ctx.fillStyle = "blue";
ctx.rect(10, 10, 30, 30);
//ctx.fill();

function left_eyes(ctx){
				const fns = [ 

							 	function(ctx){ 
								ctx.arc(150, 150, 5, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Circle Eyes';},

								function(ctx){ 
								ctx.rect(140, 140, 25, 25); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Square Eyes';},

								function(ctx){ 
								ctx.arc(150, 150, 10, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Cicle Eyes';},

								function(ctx){ 
								ctx.rect(140, 140, 30, 30); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Square Eyes';},

								function(ctx){ 
								ctx.arc(150, 150, 15, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Large Circle Eyes';},

								function(ctx){ 
								ctx.rect(140, 140, 35, 35);
								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Large Square Eyes';}
								
				]
				const fns1 = [
								
				function(ctx){ 
								ctx.arc(150, 150, 5, 0, 2 * Math.PI);
								ctx.moveTo(150,145);
								ctx.lineTo(150,135); 
								ctx.moveTo(150+(5*Math.cos(Math.PI/3)),150-(5*Math.sin(Math.PI/3)));
								ctx.lineTo(150+(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.moveTo(150+(5*Math.cos(Math.PI/6)),150-(5*Math.sin(Math.PI/6)));
								ctx.lineTo(150+(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.moveTo(150-(5*Math.cos(Math.PI/3)),150-(5*Math.sin(Math.PI/3)));
								ctx.lineTo(150-(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.moveTo(150-(5*Math.cos(Math.PI/6)),150-(5*Math.sin(Math.PI/6)));
								ctx.lineTo(150-(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Female Circle Eyes';},
				function(ctx){ 
							ctx.rect(140, 140, 25, 25);

								ctx.moveTo(140,140);
								ctx.lineTo(140,130);

								ctx.moveTo(146.25,140);
								ctx.lineTo(146.25,130);

								ctx.moveTo(152.5,140);
								ctx.lineTo(152.5,130);

								ctx.moveTo(158.75,140);
								ctx.lineTo(158.75,130);

								ctx.moveTo(165,140);
								ctx.lineTo(165,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Small Female Square Eyes';},
								

				function(ctx){ 
								ctx.arc(150, 150, 10, 0, 2 * Math.PI);
								ctx.moveTo(150,140);
								ctx.lineTo(150,130); 
								ctx.moveTo(150+(10*Math.cos(Math.PI/3)),150-(10*Math.sin(Math.PI/3)));
								ctx.lineTo(150+(20*Math.cos(Math.PI/3)),150-(20*Math.sin(Math.PI/3)));
								ctx.moveTo(150+(10*Math.cos(Math.PI/6)),150-(10*Math.sin(Math.PI/6)));
								ctx.lineTo(150+(20*Math.cos(Math.PI/6)),150-(20*Math.sin(Math.PI/6)));
								ctx.moveTo(150-(10*Math.cos(Math.PI/3)),150-(10*Math.sin(Math.PI/3)));
								ctx.lineTo(150-(20*Math.cos(Math.PI/3)),150-(20*Math.sin(Math.PI/3)));
								ctx.moveTo(150-(10*Math.cos(Math.PI/6)),150-(10*Math.sin(Math.PI/6)));
								ctx.lineTo(150-(20*Math.cos(Math.PI/6)),150-(20*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Female Circle Eyes';},
					function(ctx){ 
							ctx.rect(140, 140, 30, 30);

								ctx.moveTo(140,140);
								ctx.lineTo(140,130);

								ctx.moveTo(147.5,140);
								ctx.lineTo(147.5,130);

								ctx.moveTo(155,140);
								ctx.lineTo(155,130);

								ctx.moveTo(162.5,140);
								ctx.lineTo(162.5,130);

								ctx.moveTo(170,140);
								ctx.lineTo(170,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Medium Female Square Eyes';},
				function(ctx){ 
								ctx.arc(150, 150, 15, 0, 2 * Math.PI);
								ctx.moveTo(150,135);
								ctx.lineTo(150,125); 
								ctx.moveTo(150+(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.lineTo(150+(25*Math.cos(Math.PI/3)),150-(25*Math.sin(Math.PI/3)));
								ctx.moveTo(150+(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.lineTo(150+(25*Math.cos(Math.PI/6)),150-(25*Math.sin(Math.PI/6)));
								ctx.moveTo(150-(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.lineTo(150-(25*Math.cos(Math.PI/3)),150-(25*Math.sin(Math.PI/3)));
								ctx.moveTo(150-(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.lineTo(150-(25*Math.cos(Math.PI/6)),150-(25*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Large Female Circle Eyes';},
				function(ctx){ 
								ctx.rect(140, 140, 35, 35);

								ctx.moveTo(140,140);
								ctx.lineTo(140,130);

								ctx.moveTo(149,140);
								ctx.lineTo(149,130);

								ctx.moveTo(158,140);
								ctx.lineTo(158,130);

								ctx.moveTo(167,140);
								ctx.lineTo(167,130);

								ctx.moveTo(175,140);
								ctx.lineTo(175,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Large Female Square Eyes';}

				]
				if(gender == 0){
					return call(fns,ctx);
				}
				else {
					return call(fns1,ctx);
				}
}

function right_eyes(ctx){
				const fns = [ 
								function(ctx){ 
								ctx.arc(250, 150, 5, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Circle Eyes';},

								function(ctx){ 
								ctx.rect(240, 140, 25, 25); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Square Eyes';},
								
								function(ctx){ 
								ctx.arc(250, 150, 10, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Circle Eyes';},

								function(ctx){ 
								ctx.rect(240, 140, 30, 30); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Square Eyes';},

								function(ctx){ 
								ctx.arc(250, 150, 15, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Large Circle Eyes';},

								function(ctx){ 
								ctx.rect(240, 140, 35, 35); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Large Square Eyes';},
				]
				const fns1 = [
								
				function(ctx){ 
								ctx.arc(250, 150, 5, 0, 2 * Math.PI);
								ctx.moveTo(250,145);
								ctx.lineTo(250,135); 
								ctx.moveTo(250+(5*Math.cos(Math.PI/3)),150-(5*Math.sin(Math.PI/3)));
								ctx.lineTo(250+(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.moveTo(250+(5*Math.cos(Math.PI/6)),150-(5*Math.sin(Math.PI/6)));
								ctx.lineTo(250+(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.moveTo(250-(5*Math.cos(Math.PI/3)),150-(5*Math.sin(Math.PI/3)));
								ctx.lineTo(250-(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.moveTo(250-(5*Math.cos(Math.PI/6)),150-(5*Math.sin(Math.PI/6)));
								ctx.lineTo(250-(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Small Female Circle Eyes';},
				function(ctx){ 
							ctx.rect(240, 140, 25, 25);

								ctx.moveTo(240,140);
								ctx.lineTo(240,130);

								ctx.moveTo(246.25,140);
								ctx.lineTo(246.25,130);

								ctx.moveTo(252.5,140);
								ctx.lineTo(252.5,130);

								ctx.moveTo(258.75,140);
								ctx.lineTo(258.75,130);

								ctx.moveTo(265,140);
								ctx.lineTo(265,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Small Female Square Eyes';},
								

				function(ctx){ 
								ctx.arc(250, 150, 10, 0, 2 * Math.PI);
								ctx.moveTo(250,140);
								ctx.lineTo(250,130); 
								ctx.moveTo(250+(10*Math.cos(Math.PI/3)),150-(10*Math.sin(Math.PI/3)));
								ctx.lineTo(250+(20*Math.cos(Math.PI/3)),150-(20*Math.sin(Math.PI/3)));
								ctx.moveTo(250+(10*Math.cos(Math.PI/6)),150-(10*Math.sin(Math.PI/6)));
								ctx.lineTo(250+(20*Math.cos(Math.PI/6)),150-(20*Math.sin(Math.PI/6)));
								ctx.moveTo(250-(10*Math.cos(Math.PI/3)),150-(10*Math.sin(Math.PI/3)));
								ctx.lineTo(250-(20*Math.cos(Math.PI/3)),150-(20*Math.sin(Math.PI/3)));
								ctx.moveTo(250-(10*Math.cos(Math.PI/6)),150-(10*Math.sin(Math.PI/6)));
								ctx.lineTo(250-(20*Math.cos(Math.PI/6)),150-(20*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Medium Female Circle Eyes';},
					function(ctx){ 
							ctx.rect(240, 140, 30, 30);

								ctx.moveTo(240,140);
								ctx.lineTo(240,130);

								ctx.moveTo(247.5,140);
								ctx.lineTo(247.5,130);

								ctx.moveTo(255,140);
								ctx.lineTo(255,130);

								ctx.moveTo(262.5,140);
								ctx.lineTo(262.5,130);

								ctx.moveTo(270,140);
								ctx.lineTo(270,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Medium Female Square Eyes';},
				function(ctx){ 
								ctx.arc(250, 150, 15, 0, 2 * Math.PI);
								ctx.moveTo(250,135);
								ctx.lineTo(250,125); 
								ctx.moveTo(250+(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.lineTo(250+(25*Math.cos(Math.PI/3)),150-(25*Math.sin(Math.PI/3)));
								ctx.moveTo(250+(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.lineTo(250+(25*Math.cos(Math.PI/6)),150-(25*Math.sin(Math.PI/6)));
								ctx.moveTo(250-(15*Math.cos(Math.PI/3)),150-(15*Math.sin(Math.PI/3)));
								ctx.lineTo(250-(25*Math.cos(Math.PI/3)),150-(25*Math.sin(Math.PI/3)));
								ctx.moveTo(250-(15*Math.cos(Math.PI/6)),150-(15*Math.sin(Math.PI/6)));
								ctx.lineTo(250-(25*Math.cos(Math.PI/6)),150-(25*Math.sin(Math.PI/6)));
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Large Female Circle Eyes';},
				function(ctx){ 
								ctx.rect(240, 140, 35, 35);

								ctx.moveTo(240,140);
								ctx.lineTo(240,130);

								ctx.moveTo(249,140);
								ctx.lineTo(249,130);

								ctx.moveTo(258,140);
								ctx.lineTo(258,130);

								ctx.moveTo(267,140);
								ctx.lineTo(267,130);

								ctx.moveTo(275,140);
								ctx.lineTo(275,130);

								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return 'Large Female Square Eyes';}

				]

				if(gender == 0){
					return call(fns,ctx);
				}
				else {
					return call(fns1,ctx);
				}
}


function nose(ctx){
	const fns = [
	function(ctx){
    ctx.moveTo(200, 200);
    ctx.lineTo(200, 150);
    ctx.moveTo(200, 200);
    ctx.lineTo(220, 200);
	
   	return 'small right nose';
	},
	function(ctx){
	ctx.moveTo(200,150);
	ctx.lineTo(220,200);
	ctx.moveTo(200,150);
	ctx.lineTo(180,200);
	ctx.lineTo(220,200);
	ctx.fillStyle = getRandomBackground();
								ctx.fill();
   	return 'small triangle nose';
	},
	function(ctx){
    ctx.moveTo(200, 200);
    ctx.lineTo(200, 150);
    ctx.moveTo(200, 200);
    ctx.lineTo(180, 200);
   	return 'small left nose';
	}
	]
				return call(fns,ctx)

}

function brow_left(ctx){
	const fns = [
	function(ctx){
    ctx.moveTo(140, 125);
    ctx.lineTo(160, 125);
    
   	return 'normal left eyebrow';
	},
	function(ctx){
    ctx.moveTo(160, 105);
    ctx.lineTo(180, 125);
    
   	return 'mad left eyebrow';
	},

	function(ctx){
    ctx.moveTo(140, 105);
    ctx.lineTo(160, 105);
    
   	return 'suprised left eyebrow';
	}
	]
				return call(fns,ctx)

}

function brow_right(ctx){
	const fns = [
	function(ctx){
    ctx.moveTo(240, 125);
    ctx.lineTo(260, 125);
    
   	return 'normal right eyebrow';
	},
	function(ctx){
    ctx.moveTo(220, 125);
    ctx.lineTo(240, 105);
    
   	return 'mad right eyebrow';
	},
	function(ctx){
    ctx.moveTo(240, 105);
    ctx.lineTo(260, 105);
    
   	return 'suprised right eyebrow';
	}
	]
				return call(fns,ctx)

}

function face(ctx){
				const fns = [ 
					
								function(ctx){ ctx.arc(200, 200, 115, 0, 2 * Math.PI); 
									ctx.fillStyle = getRandomBackground();
									ctx.fill();
									return 'Small Face';},
								function(ctx){ ctx.arc(200, 200, 140, 0, 2 * Math.PI); 
									ctx.fillStyle = getRandomBackground();
									ctx.fill();		
									return 'Medium Face';},
								function(ctx){ ctx.arc(200, 200, 165, 0, 2 * Math.PI); 
									ctx.fillStyle = getRandomBackground();
									ctx.fill();
									return 'Large Face';},
								function(ctx){ 
									ctx.moveTo(25,25);
									ctx.lineTo(375,25);
									ctx.lineTo(200,400);
									ctx.lineTo(25,25);
									ctx.fillStyle = getRandomBackground();
									ctx.fill();
									//ctx.triangle(45,45,375,45,210,365); 
									return 'Pizza Face';}
				]
				return call(fns,ctx)
}

function hat(ctx){
				const fns = [ 
								function(ctx){ 
									ctx.fillStyle = getRandomBackground();
									ctx.rect(185,35,30,54);
									ctx.fill();
									ctx.moveTo(185,35);
									ctx.ellipse(200, 35, 15,5,00,0, 2 * Math.PI);	
									ctx.moveTo(230,85);	
									ctx.fill();					
									ctx.ellipse(200, 85, 30,5,00, 0, 2 * Math.PI); 
									ctx.fill();
									ctx.moveTo(185,35);
									ctx.lineTo(185,90);
									ctx.moveTo(215,35);
									ctx.lineTo(215,90);
									ctx.fill();
									
									return 'top hat'
								},

								function(ctx){ 
									ctx.ellipse(200, 70, 25,5,00,0, 2 * Math.PI);	
									ctx.moveTo(230,85);						
									ctx.ellipse(200, 85, 30,5,00, 0, 2 * Math.PI); 
									ctx.fillStyle = 'white';
									ctx.fill();
									ctx.moveTo(175,70);
									ctx.lineTo(175,88);
									ctx.moveTo(225,70);
									ctx.lineTo(225,88);
									ctx.fill();
									
									return 'fedora'
								},
								function(ctx){ 
									ctx.fillStyle = 'white';
									
									ctx.moveTo(170,85);
									ctx.lineTo(230,85);
									ctx.lineTo(230,55)
									ctx.moveTo(170,85);
									ctx.lineTo(170,55);
									ctx.arc(170,45,10, .5* Math.PI, 1.5*Math.PI);
									ctx.arc(230,45,10, 1.5 * Math.PI, .5 * Math.PI);
									ctx.moveTo(170,75);
									ctx.lineTo(230,75);
									ctx.fill();

					
									
									return 'cheif\'s hat'
								},

								function(ctx){ 
									
									
									return 'no hat'
								}
							]
								
				return call(fns,ctx)
}

function mouth(ctx){
				const fns = [ 
								function(ctx){ ctx.arc(190, 275, 50, 10, 2 * Math.PI);
								ctx.fillStyle = getRandomBackground();
								ctx.fill(); 
								return ' Left Side Sad Mouth';},

								function(ctx){ ctx.arc(200, 295, 50, 1 * Math.PI, 2 * Math.PI, 0 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Center Sad Mouth';},

								function(ctx){ ctx.arc(200, 255, 50, Math.PI, 2 * Math.PI, 1 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();	
								return 'Center Happy Mouth';},

								function(ctx){ctx.arc(200,255,10,Math.PI,2 * Math.PI);
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'small sad mouth'},

								function(ctx){ctx.arc(200,255,10,2 * Math.PI, Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'small happy mouth'},

								function(ctx){ ctx.arc(200, 255, 10, 0, 2 * Math.PI); 
								ctx.fillStyle = getRandomBackground();
								ctx.fill();
								return 'Suprised Mouth';}
				]
				return call(fns,ctx)
}

function mustashe(ctx){
				const fns = [ 
				function(ctx){
    	ctx.moveTo(125, 215);
    	ctx.lineTo(275, 215);
		ctx.rect(115,205,10,10);
		ctx.rect(275,205,10,10);
		ctx.fillStyle = getRandomBackground();
		ctx.fill();
		return 'small stash';
	},
	
	function(ctx){
				for (i=0; i< 145; i+=1) {
					angle = 0.1 * i;
					x=(1+angle)*Math.cos(angle);
					y=(1+angle)*Math.sin(angle);
					ctx.lineTo(275+x, 200+y);
}
		ctx.moveTo(125,200);
				for (i=0; i< 145; i+=1) {
					angle = 0.1 * i;
					x=(1+angle)*Math.sin(angle-20.5);
					y=(1+angle)*Math.cos(angle-20.5);
					ctx.lineTo(125+x, 200+y);
	}

	

		ctx.moveTo(125, 215);
    	ctx.lineTo(275, 215);
		return 'spiral stash';
	},
// 	function(ctx){
// 				for (i=0; i< 145; i+=20) {
// 					angle = 0.1 * i;
// 					x=(1+angle)*Math.cos(angle+1.24);
// 					y=(1+angle)*Math.sin(angle+1.24);
// 					ctx.lineTo(287+x, 207.8+y);
// }
// 		ctx.moveTo(113,207.8);
// 				for (i=0; i< 145; i+=20) {
// 					angle = 0.1 * i;
// 					x=(1+angle)*Math.sin(angle-.35);
// 					y=(1+angle)*Math.cos(angle-.35);
// 					ctx.lineTo(113+x, 207.8+y);
// 	}

	

// 		ctx.moveTo(125, 215);
//     	ctx.lineTo(275, 215);
// 		return 'triangle stash';
// 	},
	// function(ctx){
	// 	ctx.moveTo(125, 215);
    // 	ctx.lineTo(275, 215);
		
	// 	return 'basic stash';
	// },

	
	
	function(ctx){
    	
		return 'no stash';
	}
				]
				return call(fns,ctx)
}




// Now draw!
ctx.fillStyle = getRandomBackground();
ctx.fillRect(0, 0, c.width, c.height);

const features = { face: face(ctx), right_eye:right_eyes(ctx), left_eye:left_eyes(ctx), nose:nose(ctx), mouth: mouth(ctx), mustashe: mustashe(ctx), brow_left: brow_left(ctx), brow_right: brow_right(ctx), hat:hat(ctx)}
console.log(features)
document.write('Total Faces Possible: ' + 6 * 6 * 3 * 6 * 6 * 4 * 4 * 6 * 3 * 81);
document.write('<pre>'+JSON.stringify(features,undefined,2)+'</pre>')
document.write(getRandomBackground());
</script>
